âœ… 1) Explication globale (en une phrase)

Ce code rÃ©cupÃ¨re un texte et des mots-clÃ©s depuis un formulaire, envoie ces informations Ã  une IA pour calculer un score SEO, puis affiche la rÃ©ponse dans une section de la page.

âœ… 2) Explication Ã©tape par Ã©tape
ğŸ”¹ 1. DÃ©claration de la classe
export class ContentForm {


ğŸ‘‰ Ici tu crÃ©es une classe nommÃ©e ContentForm.
Une classe est un modÃ¨le qui permet de crÃ©er un objet avec des mÃ©thodes et des donnÃ©es.

ğŸ”¹ 2. DÃ©finition des propriÃ©tÃ©s privÃ©es
    #searchInput;
    #contentInput;
    #form;


ğŸ‘‰ Le # signifie que ces propriÃ©tÃ©s sont privÃ©es, donc inaccessibles depuis lâ€™extÃ©rieur de la classe.

#searchInput : le champ de recherche SEO

#contentInput : le champ du contenu

#form : le formulaire

ğŸ”¹ 3. Le constructeur
    constructor() {
        this.#form = document.querySelector("#content-form");
        this.#searchInput = document.querySelector("#seo-search");
        this.#contentInput = document.querySelector("#content");

        this.#form.addEventListener("submit", (event) => this.#submit(event));
    }

Ce que Ã§a fait :

RÃ©cupÃ¨re les Ã©lÃ©ments HTML

document.querySelector("#content-form") cherche lâ€™Ã©lÃ©ment avec lâ€™id content-form

idem pour #seo-search et #content

Ajoute un Ã©vÃ©nement au formulaire

this.#form.addEventListener("submit", (event) => this.#submit(event));


ğŸ‘‰ Quand tu envoies le formulaire, la mÃ©thode #submit() est appelÃ©e.

ğŸ”¹ 4. MÃ©thode privÃ©e #request
    async #request(terms){
        const response = await ai.models.generateContent({
            model: "gemini-2.5-flash",
            contents: terms,
        });

        let modal = document.querySelector("div.modal");
        modal.style.display = "none";

        let section = document.querySelector("#gemini-answer");
        section.scrollIntoView();

        section.innerHTML = marked.parse(response.text);
    }

Ã‰tape par Ã©tape :

Appel Ã  une IA

const response = await ai.models.generateContent({...});


await : on attend la rÃ©ponse de lâ€™IA

ai.models.generateContent : demande Ã  lâ€™IA de gÃ©nÃ©rer une rÃ©ponse

Cacher la fenÃªtre de chargement

modal.style.display = "none";


modal est une fenÃªtre qui apparaÃ®t pendant le calcul.

Afficher la rÃ©ponse

let section = document.querySelector("#gemini-answer");
section.scrollIntoView();
section.innerHTML = marked.parse(response.text);


scrollIntoView() : descend automatiquement jusquâ€™Ã  la section

marked.parse() : transforme le texte Markdown en HTML

ğŸ”¹ 5. MÃ©thode privÃ©e #submit
    #submit(event)
    {
        event.preventDefault();
        let modal = document.querySelector("div.modal");
        modal.style.display = "grid";
        let search = this.#searchInput.value;
        let content = this.#contentInput.value;

        let terms = `Bonjour, pourrais-tu me calculer un score SEO pour un contenu que je vais
        t'envoyer en format Markdown. Les termes de recherches pour lesquels calculer sont les suivants : ${search}.
        Le contenu est le suivant : ${content}. J'aurais besoin d'une rÃ©ponse synthÃ©tique au format Markdown avec un score sur 20. Merci !`;

        this.#request(terms);
    }

Ce que Ã§a fait :

EmpÃªche lâ€™envoi normal du formulaire

event.preventDefault();


âœ Sinon la page se recharge.

Affiche un modal de chargement

modal.style.display = "grid";


RÃ©cupÃ¨re les valeurs des champs

let search = this.#searchInput.value;
let content = this.#contentInput.value;


CrÃ©e le message envoyÃ© Ã  lâ€™IA

let terms = `... ${search} ... ${content} ...`;


Appelle la mÃ©thode #request

this.#request(terms);

âš ï¸ Erreurs Ã  Ã©viter

Oublier event.preventDefault()

Le formulaire recharge la page et le rÃ©sultat disparaÃ®t.

SÃ©lectionner un Ã©lÃ©ment qui nâ€™existe pas

document.querySelector("#content-form");


Si lâ€™Ã©lÃ©ment nâ€™existe pas, Ã§a renvoie null et ton code plante.

Oublier await

Sans await, response ne contiendra pas le rÃ©sultat de lâ€™IA.

Ne pas vÃ©rifier si le contenu est vide

Si search ou content est vide, lâ€™IA risque de rÃ©pondre nâ€™importe quoi.

ğŸ“Œ Bonnes pratiques

âœ… VÃ©rifier que les Ã©lÃ©ments existent :

if (!this.#form || !this.#searchInput || !this.#contentInput) {
    console.error("Form elements missing");
    return;
}


âœ… Ajouter une validation des champs :

if (!search || !content) {
    alert("Merci de remplir tous les champs.");
    return;
}

ğŸ“‹ Tableau rÃ©capitulatif â€œSyntaxe & Conceptsâ€
Syntaxe	Signification	Exemple simple	Version dÃ©butant
class ContentForm {}	DÃ©finir une classe	class Car {}	Un modÃ¨le pour crÃ©er un objet
#searchInput	PropriÃ©tÃ© privÃ©e	#name	Variable cachÃ©e dans la classe
constructor()	Initialisation de lâ€™objet	new ContentForm()	Code exÃ©cutÃ© au dÃ©but
document.querySelector()	RÃ©cupÃ©rer un Ã©lÃ©ment HTML	querySelector("#id")	Cherche un Ã©lÃ©ment dans la page
addEventListener("submit", ...)	Ã‰couter un Ã©vÃ©nement	click, submit	RÃ©agir quand lâ€™utilisateur fait une action
event.preventDefault()	Bloquer le comportement par dÃ©faut	submit sans recharger	EmpÃªche le rechargement automatique
async/await	Attendre une rÃ©ponse	await fetch()	Attendre une action qui prend du temps
innerHTML	Ã‰crire du HTML dans un Ã©lÃ©ment	section.innerHTML = "Hello"	Affiche du contenu dans la page

Si tu veux, je peux aussi :
âœ… tâ€™expliquer comment crÃ©er le HTML correspondant
âœ… te montrer comment afficher une erreur si lâ€™IA ne rÃ©pond pas
âœ… te faire une version avec un spinner de chargement

Tu veux que je te fasse Ã§a ?